<div class="blades-roll roll-type-{{type}} roll-position-{{position}} roll-effect-{{effect}} roll-result-{{result}}">
  <div class="chat-label label-stripe-chat">
    <span class="source-name">{{case "title" sourceName}}</span>
    <span class="vs">{{#if oppName}}vs.{{/if}}&nbsp;</span>
    <span class="opp-name">{{#if oppName}}{{case "title" oppName}}{{/if}}&nbsp;</span>
  </div>
  <div class="chat-trait-label">{{trait_label}}</div>
  <div class="dice-roll-strip">{{{dieVals}}}</div>
  <div class="chat-label-small label-stripe-chat-small flex-horizontal">
    <span class="position-label">{{case "title" position}}</span>
    <span class="effect-label">{{case "title" effect}}</span>
  </div>

  {{#if (eq result "critical")}}
  <div class="die {{result}}">Critical!</div>
  <div class="description">
    <p>{{{localize "BITD.RollDoWithIncreasedEffect"}}}</p>
  </div>
  {{/if}}

  {{#if (eq result "success")}}
  <div class="die {{result}}">Full Success!</div>
  <div class="description"><p>{{{localize "BITD.RollDo"}}}</p></div>
  {{/if}}

  {{#if (eq result "partial")}}
  <div class="die {{result}}">Partial Success</div>
  <div class="description">
    <p>
      {{#if (eq position "controlled")}}
      {{{localize "BITD.RollPartialSuccessPositionControlled"}}}
      {{else if (eq position "risky")}}
      {{{localize "BITD.RollPartialSuccessPositionRisky"}}}
      {{else}}
      {{{localize "BITD.RollPartialSuccessPosition"}}}
      {{/if}}
    </p>
  </div>
  {{/if}}

  {{#if (eq result "fail")}}
  <div class="die {{result}}">{{localize "BITD.RollFailure"}}</div>
  <div class="description">
    <p>
      {{#if (eq position "controlled")}}
      {{{localize "BITD.RollFailurePositionControlled"}}}
      {{else if (eq position "risky")}}
      {{{localize "BITD.RollFailurePositionRisky"}}}
      {{else}}
      {{{localize "BITD.RollFailurePositionDesperate"}}}
      {{/if}}
    </p>
  </div>
  {{/if}}

  {{#if note}}<em>{{note}}</em>{{/if}}
</div>
