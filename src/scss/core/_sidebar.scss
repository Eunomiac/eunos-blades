& {
  border: none;
  overflow: hidden;
  width: calc(var(--sidebar-width) + 50px);
  margin: 0px 0px 0px -50px;
  background: linear-gradient(to left, var(--blades-grey-dark) var(--sidebar-width), transparent calc(var(--sidebar-width) + 10px));
  background: transparent;
  box-shadow: none;

  > .sidebar-tab {
    border: none;
    padding-top: 5px;

    > * {
      padding-left: 50px;
      background: none;
    }
  }

  &.collapsed {
    margin: 0;
    padding: 0;
    > nav#sidebar-tabs {
      padding: 0;
      > a {
        &:first-child {
          border-radius: 0;
        }
        &.item.active {
          filter: none;
          box-shadow: none;
          border-color: var(--blades-grey-bright);
          border-style: outset;
        }
        &.item.active:not(:first-child) {
          border-radius: 0;
        }
        &:last-child {
          border-radius: 0;
          border-bottom-left-radius: 5px;
        }
      }
    }
    > .sidebar-tab > * {
      padding: 0;
    }
  }

  > nav#sidebar-tabs {
    gap: 0;
    margin: 0;
    justify-content: space-evenly;
    border: none;
    padding-left: 30px;
    overflow: visible;
    filter: drop-shadow(5px 5px 3px var(--blades-black-dark));
    // box-shadow: 5px 5px 3px var(--blades-black-dark);
    z-index: 30;

    > a {
      margin: 0;
      padding: 0;
      background: var(--blades-black);
      border: 1px outset var(--blades-grey-bright);
      border-top: 1px solid var(--blades-black);
      // border-bottom: 2px solid var(--blades-gold);
      // border-bottom: none;
      border-radius: 0;
      flex-shrink: 0.5;
      flex-grow: 2;

      &[data-tab="combat"],
      &[data-tab="tables"],
      &[data-tab="cards"] { display: none; }


      &:first-child {
        border-top-left-radius: 0px;
        border-bottom-left-radius: 5px;
      }
      &:last-child {

        border-color: var(--blades-grey-bright);
        background: var(--blades-black-dark);
        border-top: 1px solid var(--blades-black-dark);
        flex-shrink: 2;
        flex-grow: 0.5;

        > i { color: var(--blades-white-bright); scale: 1.25; }
      }

      > i {
        color: var(--blades-grey-bright);
        transition: 0.15s;
      }

      &:hover {
        > i {
          scale: 1.15;
          filter: brightness(1.5);
        }

        &:last-child {
          > i {
            scale: 2;
          }
        }
      }

      &.active {
        filter: grayscale(1) invert(1);
        box-shadow: none;
        border-color: var(--blades-black-dark);
        border-style: inset;
        // background: var(--blades-grey-bright);

        > i {
          scale: 1.15;
          // color: var(--blades-black-dark);
        }
      }
    }
  }

  @import "../components/push-notifications";

  .directory {
    .directory-header {
      .header-actions {
        line-height: var(--line-height-heading);

        button {
          height: calc(var(--sidebar-header-height) - (2 * 2px));
          line-height: var(--line-height-heading);
          margin: 2px 4px;
          font-family: var(--font-heading);
        }
      }
      .header-search {
        input[type="search"] {
          background: var(--blades-black-dark-fade);
          border: 1px solid var(--color-border-light-tertiary);
        }
      }
    }

    .directory-list {
      display: flex;
      flex-direction: column;
      gap: 1px;

      .directory-item {
        @include scaleNesting(
          "subdirectory",
          (18px, 16px, 14px),
          (18px, 18px, 18px),
          (
            var(--blades-white-bright),
            var(--blades-white),
            var(--blades-grey-bright)
          ),
          (4px, 4px, 4px),
          10px
        );
      }

      .directory-item {
        gap: 1px;

        border: none;

        &:nth-child(even) {
          background-color: var(--blades-black-dark-fade-strong);
        }

        .entry-name {
          font-family: var(--font-heading);
        }

        .folder-header {
          padding: 4px;
          background: var(--blades-white);

          &.context {
            background: var(--blades-gold-bright) !important;
          }
          h3 {
            font-family: var(--font-emphasis);
            line-height: 1;
            color: var(--blades-black);
          }

          a {
            color: var(--color-text-light-highlight);
            filter: invert(0.8);
          }
        }

        &.folder {



          &:not(.collapsed) {
            > .subdirectory {
              display: flex;
              flex-direction: column;
              gap: 1px;
            }
          }
        }

        .subdirectory {
          border: none;
          margin-bottom: 5px;

          > .directory-item.folder {
            > .folder-header {
              background: var(--blades-grey-bright);
            }

            &:nth-child(even) {
              > .folder-header {
                background: var(--blades-grey);
              }
            }
          }
        }
      }

      > .directory-item.folder {

        > .folder-header {
          background: var(--blades-white);
          h3 {
            color: var(--blades-black-dark);
          }

          a {
            color: var(--color-text-light-highlight);
            filter: invert(0.8);
          }
        }

        &:nth-child(even) {
          > .folder-header {
            background: var(--blades-grey-bright);
          }
        }
      }
    }
  }

  #chat { @import '../chat/chat'; }
}